<header class="site-header">
  <div class="container-feroce py-8">
    <h1 class="site-title text-center text-3xl font-extrabold tracking-tight">
      <a href="{{ site.Home.RelPermalink }}" class="brand-link inline-flex items-center gap-3">
        <img src="{{ "fd_icon.png" | relURL }}" alt="Icone Feroce Dolls" width="36" height="36" loading="eager" decoding="sync" fetchpriority="high" class="brand-icon brand-icon-light h-9 w-9 rounded-md object-cover">
        <img src="{{ "fd_icon_w.png" | relURL }}" alt="" aria-hidden="true" width="36" height="36" loading="eager" decoding="sync" fetchpriority="high" class="brand-icon brand-icon-dark h-9 w-9 rounded-md object-cover">
        <span>{{ site.Title }}</span>
      </a>
    </h1>

    <div class="site-header-controls mt-6">
      {{ with site.Menus.main }}
        <nav class="site-nav" aria-label="Navigation principale">
          {{ range . }}
            {{ $isActive := $.IsMenuCurrent "main" . }}
            {{ if not $isActive }}{{ $isActive = $.HasMenuCurrent "main" . }}{{ end }}
            {{ if not $isActive }}
              {{ $menuPath := strings.TrimSuffix "/" .URL }}
              {{ $currentPath := strings.TrimSuffix "/" $.RelPermalink }}
              {{ if eq $menuPath "" }}{{ $menuPath = "/" }}{{ end }}
              {{ if eq $currentPath "" }}{{ $currentPath = "/" }}{{ end }}
              {{ if eq $menuPath "/" }}
                {{ $isActive = eq $currentPath "/" }}
              {{ else }}
                {{ $isActive = or (eq $currentPath $menuPath) (hasPrefix $currentPath (printf "%s/" $menuPath)) }}
              {{ end }}
            {{ end }}
            <a href="{{ .URL }}" class="link-main {{ if $isActive }}link-main-active{{ end }}">{{ .Name }}</a>
          {{ end }}

          <button id="theme-toggle" type="button" class="theme-toggle theme-toggle-nav" data-theme="light" aria-pressed="false" aria-label="Activer le mode sombre" title="Activer le mode sombre">
            <span class="theme-toggle-icon" aria-hidden="true"></span>
          </button>
        </nav>
      {{ else }}
        <button id="theme-toggle" type="button" class="theme-toggle theme-toggle-nav" data-theme="light" aria-pressed="false" aria-label="Activer le mode sombre" title="Activer le mode sombre">
          <span class="theme-toggle-icon" aria-hidden="true"></span>
        </button>
      {{ end }}
    </div>
  </div>
</header>
